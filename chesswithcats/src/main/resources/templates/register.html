<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org"  xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity6">

<head>
<meta charset="UTF-8">
<link rel="stylesheet" type="text/css"
	href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link rel="stylesheet" type="text/css" href="CSS/general.css">
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link
	href="https://fonts.googleapis.com/css2?family=Roboto&display=swap"
	rel="stylesheet">

<title>Registration</title>
</head>

<body>
	<div class="container">
		<div class="row d-flex justify-content-center">
			<div class="col-8 login">

				<form th:action="@{/register}" th:object="${playerReg}"	method="post">
				
					<div class="form-row d-flex justify-content-center">
						<div class="col-10 form-group">
							<h2 style="margin-left: -1.5vw">SIGN UP</h2>
						</div>
					</div>
				<p class="alert alert-danger" th:if="${#fields.hasGlobalErrors()}">An unexpected error occurred. Please try again later.</p>
					<div class="form-row d-flex justify-content-center">
						<div class="col-5 form-group">
							<label for="username">Username</label> 
							<input type="text"
								id="username" name="username" class="form-control username"
								th:field="*{username}" autocomplete="off" minlength="3" maxlength="30" required>

							<p class="alert alert-danger" th:if="${#fields.hasErrors('username')}">Username already exists</p>
							<p class="alert alert-danger" id="msg" style="display:none">Username already exists</p>
						</div>
						<div class="space"></div>
						<div class="col-5 form-group">
							<label for="email">Email</label> 
							<input type="email" id="email"
								name="email" class="form-control" th:field="*{email}" maxlength="50" required>
							<p class="alert alert-danger" th:if="${#fields.hasErrors('email')}">There is already an account with this email - would you like to 
								<a th:href="@{/login}">log in</a> ?</p>
						</div>
						<div class="col-5 form-group">
							<label for="fname">First Name</label> 
							<input type="text"
								id="fname" name="fname" class="form-control"
								pattern="^[a-zA-Z\u00C0-\u00FF \-\.,']+$"
								title="Only letters (incl. accented letters), spaces, commas, apostrophes, and hyphens allowed"
								th:field="*{firstName}"  maxlength="50" required>
							
						</div>
						<div class="space"></div>
						<div class="col-5 form-group">
							<label for="lname">Last Name</label> 
							<input type="text"
								name="lname" id="lname" class="form-control"
								pattern="^[a-zA-Z\u00C0-\u00FF \-\.,']+$"
								title="Only letters (incl. accented letters), spaces, commas, apostrophes, and hyphens allowed"
								th:field="*{lastName}"  maxlength="50" required>
						</div>
						<div class="col-5 form-group">
							<label for="password">Password</label> 
							<input type="password"
								id="password" name="password" class="form-control"
								pattern="^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[!@#$%^&*_=+-]).{8,20}$"
								title="Must contain at least one symbol (!@#$%^&*_=+-), number, uppercase and lowercase letter, and between 8 and 20 characters"
								th:field="*{password}" required>
								
						</div>
						<div class="space"></div>
						<div class="col-5 form-group">
							<label for="confirmedPassword">Confirm Password</label> <input
								type="password" id="confirmedPassword" name="confirmedPassword"
								class="form-control" th:field="*{confirmedPassword}" required>
						</div>
						<div class="col-11 alert alert-danger" th:if="${#fields.hasErrors('password')}">Passwords do not match</div>
						<div class="col-11 alert alert-danger" th:if="${#fields.hasErrors('iconFile')}">You must select an icon to register</div>
						<div class="col-5 form-group">
							<label>Select Icon</label>
						</div>
						<div class="space"></div>
						<div class="col-5 form-group"></div>
					</div>
					<div class="col-12 form-group form-check-inline icons"
						style="padding: 0 2vw; margin: 0;">
						<label class="col-2 icon-choice"> <input type="radio"
							name="icon" class="form-control"
							value="DALL·E 2023-02-05 12.48.06.png" th:field="*{iconFile}"> <img
							src="Images/large_img_catsplayingchess/DALL·E 2023-02-05 12.48.06.png" />
						</label> <label class="col-2 icon-choice"> <input type="radio"
							name="icon" class="form-control"
							value="DALL·E 2023-02-05 12.48.35.png" th:field="*{iconFile}">
							<img
							src="Images/large_img_catsplayingchess/DALL·E 2023-02-05 12.48.35.png" />

						</label> <label class="col-2 icon-choice"> <input type="radio"
							name="icon" class="form-control"
							value="DALL·E 2023-02-05 12.49.28.png" th:field="*{iconFile}">
							<img
							src="Images/large_img_catsplayingchess/DALL·E 2023-02-05 12.49.28.png" />
						</label> <label class="col-2 icon-choice"> <input type="radio"
							name="icon" class="form-control"
							value="DALL·E 2023-02-05 12.49.42.png" th:field="*{iconFile}">
							<img
							src="Images/large_img_catsplayingchess/DALL·E 2023-02-05 12.49.42.png" />
						</label> <label class="col-2 icon-choice"> <input type="radio"
							name="icon" class="form-control"
							value="DALL·E 2023-02-05 12.52.42.png" th:field="*{iconFile}">
							<img
							src="Images/large_img_catsplayingchess/DALL·E 2023-02-05 12.52.42.png" />
						</label> <label class="col-2 icon-choice"> <input type="radio"
							name="icon" class="form-control"
							value="DALL·E 2023-02-05 12.52.30.png" th:field="*{iconFile}">
							<img
							src="Images/large_img_catsplayingchess/DALL·E 2023-02-05 12.52.30.png" />
						</label>
					</div>


					<div class="row d-flex justify-content-center">
						<div class="col-6">
							<p></p>
							<button type="submit" class="btn btn-primary btn-block">SIGN
								UP</button>
						</div>
					</div>
					<div class="row d-flex justify-content-center">
						<div class="col-6">
							<p>
								Already a user? <a th:href="@{/login}">LOGIN</a>
							</p>

						</div>
					</div>

				</form>
			</div>
		</div>
	</div>

	<script src="JS/usernameAJAX.js"></script>
	<script type="application/javascript">
		document.querySelector("input[type=radio][value='DALL·E 2023-02-05 12.48.06.png']").checked = true;
	</script>
	
</body>

</html>